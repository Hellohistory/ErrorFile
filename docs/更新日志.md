# 路径：docs/更新日志.md

# 更新日志

## v0.1.13
- 使用 Black 调整 `tests/test_inspector.py` 的格式以通过风格检查，保证 CI 的 `black --check` 任务顺利通过。

## v0.1.12
- 在 `ErrorFile/Detection/ArchiveInspector.py` 中新增 7z 与 Tar 系列压缩文件的内容读取校验，捕获更丰富的归档损坏场景。
- 在 `ErrorFile/Detection/FileInspector.py` 注册 `.7z`、`.tar`、`.tar.gz`、`.tar.bz2`、`.json`、`.xml`、`.flac`、`.ogg` 等扩展名，并改进后缀解析以支持多段扩展。
- 新增 `ErrorFile/Detection/TextInspector.py`，提供 JSON 与 XML 的语法校验逻辑，并扩充 `MediaInspector` 对 FLAC/OGG 的提示。
- 在 `tests/test_inspector.py` 与 `tests/sample_binary_assets.py` 增补对应的完好与损坏样本，覆盖新的压缩、文本与媒体格式。
- 在 `requirements.txt` 添加 `py7zr` 依赖以支持 7z 检测。

## v0.1.11
- 在 `ErrorFile/Detection/ArchiveInspector.py` 新增 Gzip 与 Bzip2 文件的读取校验逻辑，确保通过解压读取触发潜在的格式错误。
- 在 `ErrorFile/Detection/FileInspector.py` 注册 `.gz` 与 `.bz2` 检测入口，统一输出检测结果。
- 在 `tests/test_inspector.py` 添加相应的完好与损坏用例，覆盖新的压缩格式。

## v0.1.10
- 强化 `ErrorFile/Detection/MediaInspector.py`，在加载 Mutagen 对象后进一步验证音视频流信息与标签内容，确保访问时触发潜在的细粒度解析错误。

## v0.1.9
- 深化 `ErrorFile/Detection/WordInspector.py`、`ErrorFile/Detection/ExcelInspector.py`、`ErrorFile/Detection/PowerPointInspector.py` 的内容遍历流程，在加载文件后进一步访问段落、表格、工作表与幻灯片，帮助捕获更细微的结构损坏。

## v0.1.8
- 调整 `Pillow` 依赖范围至 `>=10.4.0,<10.5.0`，兼容 Python 3.13 的同时保持对 Python 3.8 等较旧版本的支持，避免 pip 在旧环境中因不存在的版本而安装失败。

## v0.1.7
- 将 Pillow 依赖升级至 `11.1.0`，以获取对 Python 3.13 的官方二进制轮子支持，修复在安装依赖时的构建失败问题。
- 在 `setup.py` 中补充对 Python 3.12 与 3.13 的兼容性声明，并同步提升 Pillow 的最低版本要求。

## v0.1.6
- 在 `.github/workflows/ci-cd.yml` 的测试任务中补充依赖安装步骤，确保在运行单元测试前安装 `requirements.txt` 中的所有依赖。

## v0.1.5
- 扩展 `FileInspector` 注册表，新增对 PPTX、ZIP、RAR、MP3、MP4 文件的检测。
- 新增 `ErrorFile/Detection/PowerPointInspector.py`、`ArchiveInspector.py`、`MediaInspector.py`，并丰富 PDF 检测的错误提示。
- 在 `tests/test_inspector.py` 中补充所有新类型的完好与损坏样本测试，并引入 `tests/sample_binary_assets.py` 存储二进制资源。

## v0.1.4
- 优化 `ErrorFile/Detection/FileInspector.py`，采用可扩展的检测器注册表模式并提供注册接口。
- 在 `.github/workflows/ci-cd.yml` 中新增 Black 与 Flake8 检查任务，统一代码风格并加强静态检查。

## v0.1.3
- 统一 README 与 main.py 示例，推荐使用顶层函数 `inspect_file` 并更新说明。
- 移除图片检测的 `fast` 模式，保留更可靠的 `precise` 流程。
- 为所有受支持的文件类型补充完好与损坏的单元测试用例。

## v0.1.2
- 初始公开版本。
